"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8569],{6308:(p,T,u)=>{u.d(T,{X:()=>e});var n=u(6689),l=u(7852);let e=(()=>{class o{constructor(h){this.modalCrtl=h,this.id="",this.name="",this.description="",this.teacher_id=""}ngOnInit(){}cerrarModal(){this.modalCrtl.dismiss()}}return o.\u0275fac=function(h){return new(h||o)(n.Y36(l.IN))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-info-course"]],inputs:{id:"id",name:"name",description:"description",teacher_id:"teacher_id"},decls:21,vars:5,consts:[[3,"fullscreen"],["color","success","expand","block","shape","round",3,"click"]],template:function(h,r){1&h&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n._uU(3,"Informacion del curso"),n.qZA()()(),n.TgZ(4,"ion-content",0)(5,"ion-list")(6,"ion-list-header")(7,"ion-label"),n._uU(8),n.qZA()(),n.TgZ(9,"ion-item")(10,"ion-label"),n._uU(11),n.qZA()(),n.TgZ(12,"ion-item")(13,"ion-label"),n._uU(14),n.qZA()(),n.TgZ(15,"ion-item")(16,"ion-label"),n._uU(17),n.qZA()(),n.TgZ(18,"ion-item")(19,"ion-button",1),n.NdJ("click",function(){return r.cerrarModal()}),n._uU(20," Salir "),n.qZA()()()()),2&h&&(n.xp6(4),n.Q6J("fullscreen",!0),n.xp6(4),n.hij("Nombre: ",r.name,""),n.xp6(3),n.hij("Codigo: ",r.id,""),n.xp6(3),n.hij("Descripcion: ",r.description,""),n.xp6(3),n.hij("Profesor: ",r.teacher_id,""))},dependencies:[l.YG,l.W2,l.Gu,l.Ie,l.Q$,l.q_,l.yh,l.wd,l.sr]}),o})()},8569:(p,T,u)=>{u.d(T,{p:()=>i});var n=u(5861),l=u(6308),e=u(6689),o=u(7852),_=u(2399),h=u(6814);function r(t,s){if(1&t){const a=e.EpF();e.TgZ(0,"ion-accordion-group")(1,"ion-accordion",5)(2,"ion-item",6)(3,"ion-label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",7)(6,"div",7)(7,"ion-grid")(8,"ion-row")(9,"ion-col",8)(10,"ion-chip",9),e.NdJ("click",function(){const E=e.CHM(a).$implicit,g=e.oxw();return e.KtG(g.viewCourse(E))}),e._UZ(11,"ion-icon",10),e.TgZ(12,"ion-label"),e._uU(13,"Ver"),e.qZA()()(),e.TgZ(14,"ion-col",8)(15,"ion-chip",11),e.NdJ("click",function(){const E=e.CHM(a).$implicit,g=e.oxw();return e.KtG(g.updateCourse(E.id))}),e._UZ(16,"ion-icon",12),e.TgZ(17,"ion-label"),e._uU(18,"Editar"),e.qZA()()(),e.TgZ(19,"ion-col",8)(20,"ion-chip",13),e.NdJ("click",function(){const E=e.CHM(a).$implicit,g=e.oxw();return e.KtG(g.deleteCourse(E.id))}),e._UZ(21,"ion-icon",14),e.TgZ(22,"ion-label"),e._uU(23,"Borrar"),e.qZA()()()()()()()()()}if(2&t){const a=s.$implicit;e.xp6(1),e.s9C("value",a.id),e.xp6(3),e.AsE("",a.id," | ",a.name,""),e.xp6(6),e.Q6J("outline",!0),e.xp6(5),e.Q6J("outline",!0),e.xp6(5),e.Q6J("outline",!0)}}let i=(()=>{class t{constructor(a,c,d){this.modalCrtl=a,this.alertCrtl=c,this.database=d,this.courses=[],this.database.createDatabase().then(()=>{this.courseList()}).catch(E=>{console.log(E)})}ngOnInit(){}courseList(){this.database.getCourses().then(a=>{this.courses=a}).catch(a=>{console.log(a)})}closeTab(){this.modalCrtl.dismiss()}viewCourse(a){var c=this;return(0,n.Z)(function*(){yield(yield c.modalCrtl.create({component:l.X,componentProps:{id:a.id,name:a.name,description:a.description,teacher_id:a.teacher_id}})).present()})()}updateCourse(a){return(0,n.Z)(function*(){})()}deleteCourse(a){var c=this;return(0,n.Z)(function*(){yield(yield c.alertCrtl.create({header:"\xa1Espera!",subHeader:"Estas a punto de eliminar un registro",message:"\xbfSeguro que deseas continuar?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{c.database.deleteCourse(a)}}]})).present()})()}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(o.IN),e.Y36(o.Br),e.Y36(_.M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list-assignment"]],decls:8,vars:3,consts:[[3,"translucent"],["slot","start",3,"click"],["slot","start","name","close"],[3,"fullscreen"],[4,"ngFor","ngForOf"],[3,"value"],["slot","header"],["slot","content",1,"ion-padding"],["size","4"],["color","success",3,"outline","click"],["name","eye-outline"],["color","warning",3,"outline","click"],["name","pencil-outline","color","warning"],["color","danger",3,"outline","click"],["name","trash-outline"]],template:function(a,c){1&a&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.NdJ("click",function(){return c.closeTab()}),e._UZ(3,"ion-icon",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Lista de curso"),e.qZA()()(),e.TgZ(6,"ion-content",3),e.YNc(7,r,24,6,"ion-accordion-group",4),e.qZA()),2&a&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngForOf",c.courses))},dependencies:[h.sg,o.We,o.eh,o.Sm,o.hM,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Ie,o.Q$,o.Nd,o.wd,o.sr]}),t})()},2399:(p,T,u)=>{u.d(T,{M:()=>o});var n=u(5861),l=u(6689),e=u(8344);let o=(()=>{class _{constructor(r){this.sqlite=r}createDatabase(){var r=this;return(0,n.Z)(function*(){try{const i=yield r.sqlite.create({name:"Collegue.db",location:"default"});r.databaseObj=i}catch(i){alert("Error: "+JSON.stringify(i))}yield r.createTable()})()}createTable(){var r=this;return(0,n.Z)(function*(){try{yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS student (id INTEGER PRIMARY KEY, name varchar(255), email varchar(255), phone varchar(255), career varchar(255), semester varchar(255))",[]),alert("Table student created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS teacher (id INTEGER PRIMARY KEY, name varchar(255), email varchar(255), phone varchar(255), career varchar(255))",[]),alert("Table teacher created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS course (id INTEGER PRIMARY KEY AUTOINCREMENT, name varchar(255), description varchar(255), teacher_id INTEGER, FOREIGN KEY(teacher_id) REFERENCES teacher(id))",[]),alert("Table course created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS student_course_note (id INTEGER PRIMARY KEY AUTOINCREMENT, student_id INTEGER, course_id INTEGER, note INTEGER, FOREIGN KEY(student_id) REFERENCES student(id), FOREIGN KEY(course_id) REFERENCES course(id))",[]),alert("Table student_course created!")}catch(i){alert("Error: "+JSON.stringify(i))}})()}addStudent(r,i,t,s,a,c){var d=this;return(0,n.Z)(function*(){try{return yield d.databaseObj.executeSql("INSERT INTO student (id,name, email, phone, career, semester) VALUES (?, ?, ?, ?, ?, ?)",[r,i,t,s,a,c]),alert("Student added!")}catch(E){alert("Error: "+JSON.stringify(E))}})()}getStudents(){var r=this;return(0,n.Z)(function*(){try{const i=yield r.databaseObj.executeSql("SELECT * FROM student",[]),t=[];for(let s=0;s<i.rows.length;s++)t.push(i.rows.item(s));return t}catch(i){return alert("Error: "+JSON.stringify(i)),[]}})()}updateStudent(r,i,t,s,a,c){var d=this;return(0,n.Z)(function*(){try{yield d.databaseObj.executeSql("UPDATE student SET name = ?, email = ?, phone = ?, career = ?, semester = ? WHERE id = ?",[i,t,s,a,c,r]),alert("Student updated!")}catch(E){alert("Error: "+JSON.stringify(E))}})()}deleteStudent(r){var i=this;return(0,n.Z)(function*(){try{yield i.databaseObj.executeSql("DELETE FROM student WHERE id = ?",[r]),alert("Student deleted!")}catch(t){alert("Error: "+JSON.stringify(t))}})()}getStudent(r){var i=this;return(0,n.Z)(function*(){try{const t=yield i.databaseObj.executeSql("SELECT * FROM student WHERE id = ?",[r]);return t.rows.length>0?t.rows.item(0):null}catch(t){return alert("Error: "+JSON.stringify(t)),null}})()}addTeacher(r,i,t,s,a){var c=this;return(0,n.Z)(function*(){try{yield c.databaseObj.executeSql("INSERT INTO teacher (id,name, email, phone, career) VALUES (?, ?, ?, ?, ?)",[r,i,t,s,a]),alert("Teacher added!")}catch(d){alert("Error: "+JSON.stringify(d))}})()}getTeachers(){var r=this;return(0,n.Z)(function*(){try{const i=yield r.databaseObj.executeSql("SELECT * FROM teacher",[]);let t=[];for(let s=0;s<i.rows.length;s++)t.push(i.rows.item(s));return t}catch(i){return alert("Error: "+JSON.stringify(i)),[]}})()}updateTeacher(r,i,t,s,a){var c=this;return(0,n.Z)(function*(){try{yield c.databaseObj.executeSql("UPDATE teacher SET name = ?, email = ?, phone = ?, career = ? WHERE id = ?",[i,t,s,a,r]),alert("Teacher updated!")}catch(d){alert("Error: "+JSON.stringify(d))}})()}deleteTeacher(r){var i=this;return(0,n.Z)(function*(){try{yield i.databaseObj.executeSql("DELETE FROM teacher WHERE id = ?",[r]),alert("Teacher deleted!")}catch(t){alert("Error: "+JSON.stringify(t))}})()}getTeacherforName(r){var i=this;return(0,n.Z)(function*(){try{return(yield i.databaseObj.executeSql("SELECT * FROM teacher WHERE name = ?",[r])).rows.item(0)}catch(t){return alert("Error: "+JSON.stringify(t)),null}})()}addCourse(r,i,t){var s=this;return(0,n.Z)(function*(){try{yield s.databaseObj.executeSql("INSERT INTO course (name, description, teacher_id) VALUES (?, ?, ?)",[r,i,t]),alert("Course added!")}catch(a){alert("Error: "+JSON.stringify(a))}})()}getCourses(){var r=this;return(0,n.Z)(function*(){try{const i=yield r.databaseObj.executeSql("SELECT * FROM course",[]),t=[];for(let s=0;s<i.rows.length;s++)t.push(i.rows.item(s));return t}catch(i){return alert("Error: "+JSON.stringify(i)),[]}})()}updateCourse(r,i,t,s){var a=this;return(0,n.Z)(function*(){try{yield a.databaseObj.executeSql("UPDATE course SET name = ?, description = ?, teacher_id = ? WHERE id = ?",[i,t,s,r]),alert("Course updated!")}catch(c){alert("Error: "+JSON.stringify(c))}})()}deleteCourse(r){var i=this;return(0,n.Z)(function*(){try{yield i.databaseObj.executeSql("DELETE FROM course WHERE id = ?",[r]),alert("Course deleted!")}catch(t){alert("Error: "+JSON.stringify(t))}})()}getCourse(r){var i=this;return(0,n.Z)(function*(){try{return(yield i.databaseObj.executeSql("SELECT * FROM course WHERE name = ?",[r])).rows.item(0)}catch(t){alert("Error: "+JSON.stringify(t))}})()}getCourseTeacher(r){var i=this;return(0,n.Z)(function*(){try{const t=yield i.getTeacherforName(r);return(yield i.databaseObj.executeSql("SELECT * FROM course WHERE teacher_id = ?",[t.id])).rows.item(0)}catch(t){alert("Error: "+JSON.stringify(t))}})()}addStudentCourse(r,i,t){var s=this;return(0,n.Z)(function*(){try{yield s.databaseObj.executeSql("INSERT INTO student_course (student_id, course_id, note) VALUES (?, ?, ?)",[r,i,t]),alert("Student course added!")}catch(a){alert("Error: "+JSON.stringify(a))}})()}getCourseStudent(r){var i=this;return(0,n.Z)(function*(){try{const t=yield i.databaseObj.executeSql("SELECT * FROM student_course WHERE student_id = ?",[r]);let s=[];for(let a=0;a<t.rows.length;a++)s.push(t.rows.item(a));return s}catch(t){alert("Error: "+JSON.stringify(t))}})()}updateStudentCourse(r,i,t,s){var a=this;return(0,n.Z)(function*(){try{yield a.databaseObj.executeSql("UPDATE student_course SET student_id = ?, course_id = ?, note = ? WHERE id = ?",[i,t,s,r]),alert("Student course updated!")}catch(c){alert("Error updating student course: "+JSON.stringify(c))}})()}deleteStudentCourse(r){var i=this;return(0,n.Z)(function*(){try{yield i.databaseObj.executeSql("DELETE FROM student_course WHERE id = ?",[r]),alert("Student course deleted!")}catch(t){alert("Error deleting student course: "+JSON.stringify(t))}})()}}return _.\u0275fac=function(r){return new(r||_)(l.LFG(e.e))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);