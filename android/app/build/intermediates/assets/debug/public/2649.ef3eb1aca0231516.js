"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2649],{9434:(g,T,l)=>{l.d(T,{G:()=>e});var t=l(6689),u=l(7852);let e=(()=>{class c{constructor(E){this.modalCrtl=E,this.id="",this.name="",this.email="",this.phone="",this.career=""}ngOnInit(){}cerrarModal(){this.modalCrtl.dismiss()}}return c.\u0275fac=function(E){return new(E||c)(t.Y36(u.IN))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-info-teacher"]],inputs:{id:"id",name:"name",email:"email",phone:"phone",career:"career"},decls:24,vars:6,consts:[[3,"fullscreen"],["color","success","expand","block","shape","round",3,"click"]],template:function(E,r){1&E&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Informacion del profesor"),t.qZA()()(),t.TgZ(4,"ion-content",0)(5,"ion-list")(6,"ion-list-header")(7,"ion-label"),t._uU(8),t.qZA()(),t.TgZ(9,"ion-item")(10,"ion-label"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-item")(13,"ion-label"),t._uU(14),t.qZA()(),t.TgZ(15,"ion-item")(16,"ion-label"),t._uU(17),t.qZA()(),t.TgZ(18,"ion-item")(19,"ion-label"),t._uU(20),t.qZA()(),t.TgZ(21,"ion-item")(22,"ion-button",1),t.NdJ("click",function(){return r.cerrarModal()}),t._uU(23," Salir "),t.qZA()()()()),2&E&&(t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(4),t.hij("Nombre: ",r.name,""),t.xp6(3),t.hij("Cedula: ",r.id,""),t.xp6(3),t.hij("Correo: ",r.email,""),t.xp6(3),t.hij("Telefono: ",r.phone,""),t.xp6(3),t.hij("Carrera: ",r.career,""))},dependencies:[u.YG,u.W2,u.Gu,u.Ie,u.Q$,u.q_,u.yh,u.wd,u.sr]}),c})()},2649:(g,T,l)=>{l.d(T,{Q:()=>n});var t=l(5861),u=l(9434),e=l(6689),c=l(7852),_=l(2399),E=l(6814);function r(a,s){if(1&a){const i=e.EpF();e.TgZ(0,"ion-accordion-group")(1,"ion-accordion",5)(2,"ion-item",6)(3,"ion-label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",7)(6,"div",7)(7,"ion-grid")(8,"ion-row")(9,"ion-col",8)(10,"ion-chip",9),e.NdJ("click",function(){const h=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.viewTeacher(h))}),e._UZ(11,"ion-icon",10),e.TgZ(12,"ion-label"),e._uU(13,"Ver"),e.qZA()()(),e.TgZ(14,"ion-col",8)(15,"ion-chip",11),e.NdJ("click",function(){const h=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.updateTeacher(h.id))}),e._UZ(16,"ion-icon",12),e.TgZ(17,"ion-label"),e._uU(18,"Editar"),e.qZA()()(),e.TgZ(19,"ion-col",8)(20,"ion-chip",13),e.NdJ("click",function(){const h=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.deleteTeacher(h.id))}),e._UZ(21,"ion-icon",14),e.TgZ(22,"ion-label"),e._uU(23,"Borrar"),e.qZA()()()()()()()()()}if(2&a){const i=s.$implicit;e.xp6(1),e.s9C("value",i.id),e.xp6(3),e.AsE("",i.id," | ",i.name,""),e.xp6(6),e.Q6J("outline",!0),e.xp6(5),e.Q6J("outline",!0),e.xp6(5),e.Q6J("outline",!0)}}let n=(()=>{class a{constructor(i,o,d){this.modalCrtl=i,this.alertCrtl=o,this.database=d,this.teachers=[],this.database.createDatabase().then(()=>{this.teacherList()}).catch(h=>{console.log(h)})}ngOnInit(){}closeTab(){this.modalCrtl.dismiss()}teacherList(){this.database.getTeachers().then(i=>{this.teachers=i}).catch(i=>{console.log(i)})}viewTeacher(i){var o=this;return(0,t.Z)(function*(){yield(yield o.modalCrtl.create({component:u.G,componentProps:{id:i.id,name:i.name,email:i.email,phone:i.phone,career:i.career}})).present()})()}updateTeacher(i){return(0,t.Z)(function*(){})()}deleteTeacher(i){var o=this;return(0,t.Z)(function*(){yield(yield o.alertCrtl.create({header:"\xa1Espera!",subHeader:"Estas a punto de eliminar un registro",message:"\xbfSeguro que deseas continuar?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{o.database.deleteTeacher(i)}}]})).present()})()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(c.IN),e.Y36(c.Br),e.Y36(_.M))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-list-teacher"]],decls:8,vars:3,consts:[[3,"translucent"],["slot","start",3,"click"],["slot","start","name","close"],[1,"ion-padding",3,"fullscreen"],[4,"ngFor","ngForOf"],[3,"value"],["slot","header"],["slot","content",1,"ion-padding"],["size","4"],["color","success",3,"outline","click"],["name","eye-outline"],["color","warning",3,"outline","click"],["name","pencil-outline","color","warning"],["color","danger",3,"outline","click"],["name","trash-outline"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.NdJ("click",function(){return o.closeTab()}),e._UZ(3,"ion-icon",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Lista de profesores"),e.qZA()()(),e.TgZ(6,"ion-content",3),e.YNc(7,r,24,6,"ion-accordion-group",4),e.qZA()),2&i&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngForOf",o.teachers))},dependencies:[E.sg,c.We,c.eh,c.Sm,c.hM,c.wI,c.W2,c.jY,c.Gu,c.gu,c.Ie,c.Q$,c.Nd,c.wd,c.sr]}),a})()},2399:(g,T,l)=>{l.d(T,{M:()=>c});var t=l(5861),u=l(6689),e=l(8344);let c=(()=>{class _{constructor(r){this.sqlite=r}createDatabase(){var r=this;return(0,t.Z)(function*(){try{const n=yield r.sqlite.create({name:"Collegue.db",location:"default"});r.databaseObj=n}catch(n){alert("Error: "+JSON.stringify(n))}yield r.createTable()})()}createTable(){var r=this;return(0,t.Z)(function*(){try{yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS student (id INTEGER PRIMARY KEY, name varchar(255), email varchar(255), phone varchar(255), career varchar(255), semester varchar(255))",[]),alert("Table student created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS teacher (id INTEGER PRIMARY KEY, name varchar(255), email varchar(255), phone varchar(255), career varchar(255))",[]),alert("Table teacher created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS course (id INTEGER PRIMARY KEY AUTOINCREMENT, name varchar(255), description varchar(255), teacher_id INTEGER, FOREIGN KEY(teacher_id) REFERENCES teacher(id))",[]),alert("Table course created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS student_course_note (id INTEGER PRIMARY KEY AUTOINCREMENT, student_id INTEGER, course_id INTEGER, note INTEGER, FOREIGN KEY(student_id) REFERENCES student(id), FOREIGN KEY(course_id) REFERENCES course(id))",[]),alert("Table student_course created!")}catch(n){alert("Error: "+JSON.stringify(n))}})()}addStudent(r,n,a,s,i,o){var d=this;return(0,t.Z)(function*(){try{return yield d.databaseObj.executeSql("INSERT INTO student (id,name, email, phone, career, semester) VALUES (?, ?, ?, ?, ?, ?)",[r,n,a,s,i,o]),alert("Student added!")}catch(h){alert("Error: "+JSON.stringify(h))}})()}getStudents(){var r=this;return(0,t.Z)(function*(){try{const n=yield r.databaseObj.executeSql("SELECT * FROM student",[]),a=[];for(let s=0;s<n.rows.length;s++)a.push(n.rows.item(s));return a}catch(n){return alert("Error: "+JSON.stringify(n)),[]}})()}updateStudent(r,n,a,s,i,o){var d=this;return(0,t.Z)(function*(){try{yield d.databaseObj.executeSql("UPDATE student SET name = ?, email = ?, phone = ?, career = ?, semester = ? WHERE id = ?",[n,a,s,i,o,r]),alert("Student updated!")}catch(h){alert("Error: "+JSON.stringify(h))}})()}deleteStudent(r){var n=this;return(0,t.Z)(function*(){try{yield n.databaseObj.executeSql("DELETE FROM student WHERE id = ?",[r]),alert("Student deleted!")}catch(a){alert("Error: "+JSON.stringify(a))}})()}getStudent(r){var n=this;return(0,t.Z)(function*(){try{const a=yield n.databaseObj.executeSql("SELECT * FROM student WHERE id = ?",[r]);return a.rows.length>0?a.rows.item(0):null}catch(a){return alert("Error: "+JSON.stringify(a)),null}})()}addTeacher(r,n,a,s,i){var o=this;return(0,t.Z)(function*(){try{yield o.databaseObj.executeSql("INSERT INTO teacher (id,name, email, phone, career) VALUES (?, ?, ?, ?, ?)",[r,n,a,s,i]),alert("Teacher added!")}catch(d){alert("Error: "+JSON.stringify(d))}})()}getTeachers(){var r=this;return(0,t.Z)(function*(){try{const n=yield r.databaseObj.executeSql("SELECT * FROM teacher",[]);let a=[];for(let s=0;s<n.rows.length;s++)a.push(n.rows.item(s));return a}catch(n){return alert("Error: "+JSON.stringify(n)),[]}})()}updateTeacher(r,n,a,s,i){var o=this;return(0,t.Z)(function*(){try{yield o.databaseObj.executeSql("UPDATE teacher SET name = ?, email = ?, phone = ?, career = ? WHERE id = ?",[n,a,s,i,r]),alert("Teacher updated!")}catch(d){alert("Error: "+JSON.stringify(d))}})()}deleteTeacher(r){var n=this;return(0,t.Z)(function*(){try{yield n.databaseObj.executeSql("DELETE FROM teacher WHERE id = ?",[r]),alert("Teacher deleted!")}catch(a){alert("Error: "+JSON.stringify(a))}})()}getTeacherforName(r){var n=this;return(0,t.Z)(function*(){try{return(yield n.databaseObj.executeSql("SELECT * FROM teacher WHERE name = ?",[r])).rows.item(0)}catch(a){return alert("Error: "+JSON.stringify(a)),null}})()}addCourse(r,n,a){var s=this;return(0,t.Z)(function*(){try{yield s.databaseObj.executeSql("INSERT INTO course (name, description, teacher_id) VALUES (?, ?, ?)",[r,n,a]),alert("Course added!")}catch(i){alert("Error: "+JSON.stringify(i))}})()}getCourses(){var r=this;return(0,t.Z)(function*(){try{const n=yield r.databaseObj.executeSql("SELECT * FROM course",[]),a=[];for(let s=0;s<n.rows.length;s++)a.push(n.rows.item(s));return a}catch(n){return alert("Error: "+JSON.stringify(n)),[]}})()}updateCourse(r,n,a,s){var i=this;return(0,t.Z)(function*(){try{yield i.databaseObj.executeSql("UPDATE course SET name = ?, description = ?, teacher_id = ? WHERE id = ?",[n,a,s,r]),alert("Course updated!")}catch(o){alert("Error: "+JSON.stringify(o))}})()}deleteCourse(r){var n=this;return(0,t.Z)(function*(){try{yield n.databaseObj.executeSql("DELETE FROM course WHERE id = ?",[r]),alert("Course deleted!")}catch(a){alert("Error: "+JSON.stringify(a))}})()}getCourse(r){var n=this;return(0,t.Z)(function*(){try{return(yield n.databaseObj.executeSql("SELECT * FROM course WHERE name = ?",[r])).rows.item(0)}catch(a){alert("Error: "+JSON.stringify(a))}})()}getCourseTeacher(r){var n=this;return(0,t.Z)(function*(){try{const a=yield n.getTeacherforName(r);return(yield n.databaseObj.executeSql("SELECT * FROM course WHERE teacher_id = ?",[a.id])).rows.item(0)}catch(a){alert("Error: "+JSON.stringify(a))}})()}addStudentCourse(r,n,a){var s=this;return(0,t.Z)(function*(){try{yield s.databaseObj.executeSql("INSERT INTO student_course (student_id, course_id, note) VALUES (?, ?, ?)",[r,n,a]),alert("Student course added!")}catch(i){alert("Error: "+JSON.stringify(i))}})()}getCourseStudent(r){var n=this;return(0,t.Z)(function*(){try{const a=yield n.databaseObj.executeSql("SELECT * FROM student_course WHERE student_id = ?",[r]);let s=[];for(let i=0;i<a.rows.length;i++)s.push(a.rows.item(i));return s}catch(a){alert("Error: "+JSON.stringify(a))}})()}updateStudentCourse(r,n,a,s){var i=this;return(0,t.Z)(function*(){try{yield i.databaseObj.executeSql("UPDATE student_course SET student_id = ?, course_id = ?, note = ? WHERE id = ?",[n,a,s,r]),alert("Student course updated!")}catch(o){alert("Error updating student course: "+JSON.stringify(o))}})()}deleteStudentCourse(r){var n=this;return(0,t.Z)(function*(){try{yield n.databaseObj.executeSql("DELETE FROM student_course WHERE id = ?",[r]),alert("Student course deleted!")}catch(a){alert("Error deleting student course: "+JSON.stringify(a))}})()}}return _.\u0275fac=function(r){return new(r||_)(u.LFG(e.e))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);