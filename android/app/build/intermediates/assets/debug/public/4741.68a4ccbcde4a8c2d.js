"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4741],{5926:(S,p,l)=>{l.d(p,{H:()=>t});var e=l(6689),_=l(7852);let t=(()=>{class c{constructor(h){this.modalCrtl=h,this.id="",this.name="",this.email="",this.phone="",this.career="",this.semester=""}ngOnInit(){}cerrarModal(){this.modalCrtl.dismiss()}}return c.\u0275fac=function(h){return new(h||c)(e.Y36(_.IN))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-info-student"]],inputs:{id:"id",name:"name",email:"email",phone:"phone",career:"career",semester:"semester"},decls:27,vars:7,consts:[[1,"ion-padding",3,"fullscreen"],["color","success","expand","block","shape","round",3,"click"]],template:function(h,r){1&h&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Informacion del estudiante"),e.qZA()()(),e.TgZ(4,"ion-content",0)(5,"ion-list")(6,"ion-list-header")(7,"ion-label"),e._uU(8),e.qZA()(),e.TgZ(9,"ion-item")(10,"ion-label"),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label"),e._uU(14),e.qZA()(),e.TgZ(15,"ion-item")(16,"ion-label"),e._uU(17),e.qZA()(),e.TgZ(18,"ion-item")(19,"ion-label"),e._uU(20),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-label"),e._uU(23),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-button",1),e.NdJ("click",function(){return r.cerrarModal()}),e._uU(26," Salir "),e.qZA()()()()),2&h&&(e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(4),e.hij("Nombre: ",r.name,""),e.xp6(3),e.hij("Cedula: ",r.id,""),e.xp6(3),e.hij("Correo: ",r.email,""),e.xp6(3),e.hij("Telefono: ",r.phone,""),e.xp6(3),e.hij("Carrera: ",r.career,""),e.xp6(3),e.hij("Semestre: ",r.semester,""))},dependencies:[_.YG,_.W2,_.Gu,_.Ie,_.Q$,_.q_,_.yh,_.wd,_.sr]}),c})()},4741:(S,p,l)=>{l.d(p,{J:()=>a});var e=l(5861),_=l(5926),t=l(6689),c=l(7852),E=l(2399),h=l(6814);function r(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"ion-accordion-group")(1,"ion-accordion",5)(2,"ion-item",6)(3,"ion-label"),t._uU(4),t.qZA()(),t.TgZ(5,"div",7)(6,"div",7)(7,"ion-grid")(8,"ion-row")(9,"ion-col",8)(10,"ion-chip",9),t.NdJ("click",function(){const d=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.viewStudent(d))}),t._UZ(11,"ion-icon",10),t.TgZ(12,"ion-label"),t._uU(13,"Ver"),t.qZA()()(),t.TgZ(14,"ion-col",8)(15,"ion-chip",11),t.NdJ("click",function(){const d=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.updateStudent(d.id))}),t._UZ(16,"ion-icon",12),t.TgZ(17,"ion-label"),t._uU(18,"Editar"),t.qZA()()(),t.TgZ(19,"ion-col",8)(20,"ion-chip",13),t.NdJ("click",function(){const d=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.deleteStudent(d.id))}),t._UZ(21,"ion-icon",14),t.TgZ(22,"ion-label"),t._uU(23,"Borrar"),t.qZA()()()()()()()()()}if(2&n){const i=s.$implicit;t.xp6(1),t.s9C("value",i.id),t.xp6(3),t.AsE("",i.id," | ",i.name,""),t.xp6(6),t.Q6J("outline",!0),t.xp6(5),t.Q6J("outline",!0),t.xp6(5),t.Q6J("outline",!0)}}let a=(()=>{class n{constructor(i,o,u){this.modalCrtl=i,this.alertCrtl=o,this.database=u,this.students=[],this.database.createDatabase().then(()=>{this.studentList()}).catch(d=>{console.log(d)})}ngOnInit(){}closeTab(){this.modalCrtl.dismiss()}studentList(){this.database.getStudents().then(i=>{this.students=i}).catch(i=>{console.log(i)})}viewStudent(i){var o=this;return(0,e.Z)(function*(){yield(yield o.modalCrtl.create({component:_.H,componentProps:{id:i.id,name:i.name,email:i.email,phone:i.phone,career:i.career,semester:i.semester}})).present()})()}updateStudent(i){var o=this;return(0,e.Z)(function*(){yield(yield o.alertCrtl.create({header:"Editar",inputs:[{placeholder:"Nombre",name:"name",type:"text"},{placeholder:"Correo",name:"email",type:"text"},{placeholder:"Telefono",name:"phone",type:"text"},{placeholder:"Carrera",name:"career",type:"text"},{placeholder:"Semestre",name:"semester",type:"text"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:d=>{o.database.updateStudent(d.name,d.email,d.phone,d.career,d.semester,i)}}]})).present()})()}deleteStudent(i){var o=this;return(0,e.Z)(function*(){yield(yield o.alertCrtl.create({header:"\xa1Espera!",subHeader:"Estas a punto de eliminar un registro",message:"\xbfSeguro que deseas continuar?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:()=>{o.database.deleteStudent(i)}}]})).present()})()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(c.IN),t.Y36(c.Br),t.Y36(E.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-student"]],decls:8,vars:3,consts:[[3,"translucent"],["slot","start",3,"click"],["slot","start","name","close"],[1,"ion-padding",3,"fullscreen"],[4,"ngFor","ngForOf"],[3,"value"],["slot","header"],["slot","content",1,"ion-padding"],["size","4"],["color","success",3,"outline","click"],["name","eye-outline"],["color","warning",3,"outline","click"],["name","pencil-outline"],["color","danger",3,"outline","click"],["name","trash-outline"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.NdJ("click",function(){return o.closeTab()}),t._UZ(3,"ion-icon",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Lista de estudiantes"),t.qZA()()(),t.TgZ(6,"ion-content",3),t.YNc(7,r,24,6,"ion-accordion-group",4),t.qZA()),2&i&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngForOf",o.students))},dependencies:[h.sg,c.We,c.eh,c.Sm,c.hM,c.wI,c.W2,c.jY,c.Gu,c.gu,c.Ie,c.Q$,c.Nd,c.wd,c.sr]}),n})()},2399:(S,p,l)=>{l.d(p,{M:()=>c});var e=l(5861),_=l(6689),t=l(8344);let c=(()=>{class E{constructor(r){this.sqlite=r}createDatabase(){var r=this;return(0,e.Z)(function*(){try{const a=yield r.sqlite.create({name:"Collegue.db",location:"default"});r.databaseObj=a}catch(a){alert("Error: "+JSON.stringify(a))}yield r.createTable()})()}createTable(){var r=this;return(0,e.Z)(function*(){try{yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS student (id INTEGER PRIMARY KEY, name varchar(255), email varchar(255), phone varchar(255), career varchar(255), semester varchar(255))",[]),alert("Table student created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS teacher (id INTEGER PRIMARY KEY, name varchar(255), email varchar(255), phone varchar(255), career varchar(255))",[]),alert("Table teacher created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS course (id INTEGER PRIMARY KEY AUTOINCREMENT, name varchar(255), description varchar(255), teacher_id INTEGER, FOREIGN KEY(teacher_id) REFERENCES teacher(id))",[]),alert("Table course created!"),yield r.databaseObj.executeSql("CREATE TABLE IF NOT EXISTS student_course_note (id INTEGER PRIMARY KEY AUTOINCREMENT, student_id INTEGER, course_id INTEGER, note INTEGER, FOREIGN KEY(student_id) REFERENCES student(id), FOREIGN KEY(course_id) REFERENCES course(id))",[]),alert("Table student_course created!")}catch(a){alert("Error: "+JSON.stringify(a))}})()}addStudent(r,a,n,s,i,o){var u=this;return(0,e.Z)(function*(){try{return yield u.databaseObj.executeSql("INSERT INTO student (id,name, email, phone, career, semester) VALUES (?, ?, ?, ?, ?, ?)",[r,a,n,s,i,o]),alert("Student added!")}catch(d){alert("Error: "+JSON.stringify(d))}})()}getStudents(){var r=this;return(0,e.Z)(function*(){try{const a=yield r.databaseObj.executeSql("SELECT * FROM student",[]),n=[];for(let s=0;s<a.rows.length;s++)n.push(a.rows.item(s));return n}catch(a){return alert("Error: "+JSON.stringify(a)),[]}})()}updateStudent(r,a,n,s,i,o){var u=this;return(0,e.Z)(function*(){try{yield u.databaseObj.executeSql("UPDATE student SET name = ?, email = ?, phone = ?, career = ?, semester = ? WHERE id = ?",[a,n,s,i,o,r]),alert("Student updated!")}catch(d){alert("Error: "+JSON.stringify(d))}})()}deleteStudent(r){var a=this;return(0,e.Z)(function*(){try{yield a.databaseObj.executeSql("DELETE FROM student WHERE id = ?",[r]),alert("Student deleted!")}catch(n){alert("Error: "+JSON.stringify(n))}})()}getStudent(r){var a=this;return(0,e.Z)(function*(){try{const n=yield a.databaseObj.executeSql("SELECT * FROM student WHERE id = ?",[r]);return n.rows.length>0?n.rows.item(0):null}catch(n){return alert("Error: "+JSON.stringify(n)),null}})()}addTeacher(r,a,n,s,i){var o=this;return(0,e.Z)(function*(){try{yield o.databaseObj.executeSql("INSERT INTO teacher (id,name, email, phone, career) VALUES (?, ?, ?, ?, ?)",[r,a,n,s,i]),alert("Teacher added!")}catch(u){alert("Error: "+JSON.stringify(u))}})()}getTeachers(){var r=this;return(0,e.Z)(function*(){try{const a=yield r.databaseObj.executeSql("SELECT * FROM teacher",[]);let n=[];for(let s=0;s<a.rows.length;s++)n.push(a.rows.item(s));return n}catch(a){return alert("Error: "+JSON.stringify(a)),[]}})()}updateTeacher(r,a,n,s,i){var o=this;return(0,e.Z)(function*(){try{yield o.databaseObj.executeSql("UPDATE teacher SET name = ?, email = ?, phone = ?, career = ? WHERE id = ?",[a,n,s,i,r]),alert("Teacher updated!")}catch(u){alert("Error: "+JSON.stringify(u))}})()}deleteTeacher(r){var a=this;return(0,e.Z)(function*(){try{yield a.databaseObj.executeSql("DELETE FROM teacher WHERE id = ?",[r]),alert("Teacher deleted!")}catch(n){alert("Error: "+JSON.stringify(n))}})()}getTeacherforName(r){var a=this;return(0,e.Z)(function*(){try{return(yield a.databaseObj.executeSql("SELECT * FROM teacher WHERE name = ?",[r])).rows.item(0)}catch(n){return alert("Error: "+JSON.stringify(n)),null}})()}addCourse(r,a,n){var s=this;return(0,e.Z)(function*(){try{yield s.databaseObj.executeSql("INSERT INTO course (name, description, teacher_id) VALUES (?, ?, ?)",[r,a,n]),alert("Course added!")}catch(i){alert("Error: "+JSON.stringify(i))}})()}getCourses(){var r=this;return(0,e.Z)(function*(){try{const a=yield r.databaseObj.executeSql("SELECT * FROM course",[]),n=[];for(let s=0;s<a.rows.length;s++)n.push(a.rows.item(s));return n}catch(a){return alert("Error: "+JSON.stringify(a)),[]}})()}updateCourse(r,a,n,s){var i=this;return(0,e.Z)(function*(){try{yield i.databaseObj.executeSql("UPDATE course SET name = ?, description = ?, teacher_id = ? WHERE id = ?",[a,n,s,r]),alert("Course updated!")}catch(o){alert("Error: "+JSON.stringify(o))}})()}deleteCourse(r){var a=this;return(0,e.Z)(function*(){try{yield a.databaseObj.executeSql("DELETE FROM course WHERE id = ?",[r]),alert("Course deleted!")}catch(n){alert("Error: "+JSON.stringify(n))}})()}getCourse(r){var a=this;return(0,e.Z)(function*(){try{return(yield a.databaseObj.executeSql("SELECT * FROM course WHERE name = ?",[r])).rows.item(0)}catch(n){alert("Error: "+JSON.stringify(n))}})()}getCourseTeacher(r){var a=this;return(0,e.Z)(function*(){try{const n=yield a.getTeacherforName(r);return(yield a.databaseObj.executeSql("SELECT * FROM course WHERE teacher_id = ?",[n.id])).rows.item(0)}catch(n){alert("Error: "+JSON.stringify(n))}})()}addStudentCourse(r,a,n){var s=this;return(0,e.Z)(function*(){try{yield s.databaseObj.executeSql("INSERT INTO student_course (student_id, course_id, note) VALUES (?, ?, ?)",[r,a,n]),alert("Student course added!")}catch(i){alert("Error: "+JSON.stringify(i))}})()}getCourseStudent(r){var a=this;return(0,e.Z)(function*(){try{const n=yield a.databaseObj.executeSql("SELECT * FROM student_course WHERE student_id = ?",[r]);let s=[];for(let i=0;i<n.rows.length;i++)s.push(n.rows.item(i));return s}catch(n){alert("Error: "+JSON.stringify(n))}})()}updateStudentCourse(r,a,n,s){var i=this;return(0,e.Z)(function*(){try{yield i.databaseObj.executeSql("UPDATE student_course SET student_id = ?, course_id = ?, note = ? WHERE id = ?",[a,n,s,r]),alert("Student course updated!")}catch(o){alert("Error updating student course: "+JSON.stringify(o))}})()}deleteStudentCourse(r){var a=this;return(0,e.Z)(function*(){try{yield a.databaseObj.executeSql("DELETE FROM student_course WHERE id = ?",[r]),alert("Student course deleted!")}catch(n){alert("Error deleting student course: "+JSON.stringify(n))}})()}}return E.\u0275fac=function(r){return new(r||E)(_.LFG(t.e))},E.\u0275prov=_.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()}}]);